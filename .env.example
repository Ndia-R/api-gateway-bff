# ============================================
# ローカル開発環境設定（サンプル）
# ============================================

# ============================================
# Local Development Hostname
# ============================================
# ローカル開発環境のホスト名（フロントエンド・BFF共通）
# この値を変更すると、以下のURLが自動的に更新されます:
# - IDP_REDIRECT_URI
# - IDP_POST_LOGOUT_REDIRECT_URI
# - FRONTEND_URL
LOCAL_HOSTNAME=https://localhost

# ============================================
# Identity Provider Configuration
# ============================================
# このBFFはOIDC準拠のすべてのIDプロバイダーに対応しています。
# 以下はKeycloakの設定例です。他のプロバイダーの例は末尾を参照してください。

IDP_CLIENT_ID=my-books-client
IDP_CLIENT_SECRET=your-client-secret

# IDプロバイダーのIssuer URI（完全なURL）
# Keycloakの例: https://{host}/auth/realms/{realm-name}
# 他のプロバイダー（Auth0、Okta等）に切り替える場合はこの値のみ変更してください
IDP_ISSUER_URI=https://vsv-crystal.skygroup.local/auth/realms/test-user-realm

# 📝 以下のBFF関連URLはdocker-compose.ymlで ${LOCAL_HOSTNAME} から自動生成されます:
#    - IDP_REDIRECT_URI: ${LOCAL_HOSTNAME}/bff/login/oauth2/code/idp
#    - IDP_POST_LOGOUT_REDIRECT_URI: ${LOCAL_HOSTNAME}/logout-complete
#    - FRONTEND_URL: ${LOCAL_HOSTNAME}
#
# 注: IDP_POST_LOGOUT_REDIRECT_URIは、現在の実装ではBFFがバックエンドから
#     WebClientでIDプロバイダーにログアウトリクエストを送信するため、
#     ブラウザには届きません。OIDC仕様準拠のためパラメータとして送信されます。

# ============================================
# Application Configuration
# ============================================
# 複数のリソースサーバー設定
MY_BOOKS_SERVICE_URL=http://my-books-api:8080
MY_MUSICS_SERVICE_URL=http://my-musics-api:8080

# CORS許可オリジン（ローカル開発環境用に複数オリジン許可）
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:*,https://localhost

# ============================================
# 他のIDプロバイダーの設定例
# ============================================
#
# Auth0の場合:
# IDP_ISSUER_URI=https://your-tenant.auth0.com
#
# Oktaの場合:
# IDP_ISSUER_URI=https://dev-12345678.okta.com/oauth2/default
#
# Azure ADの場合:
# IDP_ISSUER_URI=https://login.microsoftonline.com/{tenant-id}/v2.0
#
# Google Identity Platformの場合:
# IDP_ISSUER_URI=https://accounts.google.com
